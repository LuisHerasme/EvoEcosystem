{"code":"!function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=20)}([function(t,i,e){\"use strict\";i.__esModule=!0;var o=function(){function t(t){t.position&&(this.position=t.position),t.anchor&&(this.anchor=t.anchor),t.z_index&&(this.z_index=t.z_index)}return t.prototype.setStyle=function(t){for(var i in t)this.context[i]=t[i]},t.prototype.render=function(){},t}();i.default=o},function(t,i,e){\"use strict\";i.__esModule=!0;var o=document.createElement(\"style\");o.type=\"text/css\",o.innerHTML=\"\\n* {\\n  margin:0%;\\n  padding: 0%;\\n}\\ncanvas {\\n  display: block;\\n}\\n\",document.body.appendChild(o);var n=e(4);i.Scene=n.default;var s=e(17);i.Render=s.default;var r=e(0);i.Graphic=r.default;var h=e(16);i.Animation=h.default;var a=e(15);i.Rect=a.default;var c=e(14);i.Circle=c.default;var d=e(13);i.Line=d.default;var l=e(12);i.Poligon=l.default;var u=e(11);i.Picture=u.default;var f=e(10);i.Text=f.default;var p=e(9);i.Arc=p.default;var y=e(8);i.Group=y.default;var m=e(7);i.Color=m.default},function(t,i,e){\"use strict\";i.__esModule=!0;var o=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.mult=function(t){this.x*=t,this.y*=t},t.prototype.div=function(t){this.x/=t,this.y/=t},t.prototype.inverse=function(){this.x*=-1,this.y*=-1},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.distance=function(i){return t.sub(this,i).mag()},t.prototype.angle=function(){return Math.atan2(this.y,this.x)},t.prototype.copy=function(){return new t(this.x,this.y)},t.prototype.normalize=function(){this.div(this.mag())},t.prototype.setMag=function(t){this.normalize(),this.mult(t)},t.prototype.setAngle=function(t){var i=this.mag();this.x=i*Math.cos(t),this.y=i*Math.sin(t)},t.prototype.addAngle=function(t){this.setAngle(this.angle()+t)},t.prototype.limit=function(t){this.mag()>t&&this.setMag(t)},t.prototype.moveTowards=function(i,e,o){if(this.distance(i)>o){var n=t.normalize(i);n.mult(e),this.add(n)}},t.prototype.zero=function(){this.x=0,this.y=0},t.add=function(i,e){return new t(i.x+e.x,i.y+e.y)},t.sub=function(i,e){return new t(i.x-e.x,i.y-e.y)},t.mult=function(i,e){return new t(i.x*e,i.y*e)},t.div=function(i,e){return new t(i.x/e,i.y/e)},t.inverse=function(i){return new t(-1*i.x,-1*i.y)},t.distance=function(t,i){return this.sub(t,i).mag()},t.normalize=function(t){return this.div(t,t.mag())},t.cross=function(t,i){return t.x*i.y-i.x*t.y},t.random=function(i,e){return Math.random()>.5?new t(i*Math.random(),e*Math.random()):new t(-i*Math.random(),-e*Math.random())},t}();i.default=o},function(t,i,e){\"use strict\";i.__esModule=!0;var o=function(){function t(t,i){this.x=t,this.y=i}return t.prototype.add=function(t){this.x+=t.x,this.y+=t.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.mult=function(t){this.x=this.x*t,this.y=this.y*t},t.prototype.div=function(t){this.x=this.x/t,this.y=this.y/t},t.prototype.inverse=function(){this.x*=-1,this.y*=-1},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.distance=function(i){return t.sub(this,i).mag()},t.prototype.angle=function(){return Math.atan2(this.y,this.x)},t.prototype.copy=function(){return new t(this.x,this.y)},t.prototype.normalize=function(){this.div(this.mag())},t.prototype.setMag=function(t){this.normalize(),this.mult(t)},t.prototype.setAngle=function(t){var i=this.mag();this.x=i*Math.cos(t),this.y=i*Math.sin(t)},t.prototype.addAngle=function(t){this.setAngle(this.angle()+t)},t.prototype.limit=function(t){this.mag()>t&&this.setMag(t)},t.prototype.moveTowards=function(i,e,o){if(this.distance(i)>o){var n=t.normalize(t.sub(i,this));n.mult(e),this.add(n)}},t.prototype.zero=function(){this.x=0,this.y=0},t.add=function(i,e){return new t(i.x+e.x,i.y+e.y)},t.sub=function(i,e){return new t(i.x-e.x,i.y-e.y)},t.mult=function(i,e){return new t(i.x*e,i.y*e)},t.div=function(i,e){return new t(i.x/e,i.y/e)},t.inverse=function(i){return new t(-1*i.x,-1*i.y)},t.distance=function(t,i){return this.sub(t,i).mag()},t.normalize=function(t){return this.div(t,t.mag())},t.cross=function(t,i){return t.x*i.y-i.x*t.y},t.random=function(i,e){void 0===i&&(i=1),void 0===e&&(e=1);var o=1,n=1;return Math.random()>.5&&(o=-1),Math.random()>.5&&(n=-1),new t(i*Math.random()*o,e*Math.random()*n)},t.randomPositive=function(i,e){return new t(i*Math.random(),e*Math.random())},t}();i.default=o},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(2),n=function(){function t(t){this.childs=[],this.following=!1,this.translation=new o.default(0,0),this.backgroundColor=\"#000\",this.organized=!0,this.backgroundColor=t}return t.prototype.add=function(t){t.context=this.context,this.organized=!1,this.childs.push(t)},t.prototype.remove=function(t){this.childs.splice(this.childs.indexOf(t),1)},t.prototype.clear=function(t){void 0===t&&(t=\"#000\"),this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,window.innerWidth,window.innerHeight),this.context.restore()},t.prototype.follow=function(t){this.followed=t.transform.position,this.temp=this.followed.copy(),this.following=!0},t.prototype.smoth=function(t){this.context.imageSmoothingEnabled?this.context.imageSmoothingEnabled=t:this.context.mozImageSmoothingEnabled?this.context.mozImageSmoothingEnabled=t:this.context.webkitImageSmoothingEnabled&&(this.context.webkitImageSmoothingEnabled=t)},t.prototype.zoom=function(t,i){this.context.translate(t.x,t.y),this.context.scale(i.x,i.y),this.context.translate(-t.x,-t.y)},t.prototype.translate=function(t,i){this.translation.x-=t,this.translation.y-=i,this.context.translate(-t,-i)},t.prototype.organize_children=function(){this.childs.sort(function(t,i){return t.z_index-i.z_index})},t.prototype.update=function(){if(this.clear(this.backgroundColor),this.following){var t=o.default.sub(this.temp,this.followed);this.temp=this.followed.copy(),this.translate(-t.x,0)}this.organized||this.organize_children(),this.organized=!0,this.childs.forEach(function(t){return t.render()})},t}();i.default=n},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(3),n=e(1),s=function(){function t(t){this.foodLevel=100,this.size=5,this.timeSlot=0,this.goal=new o.default(0,0),1==t.first?(this.speedLimit=t.speedLimit,this.speed=.9*this.speedLimit,this.fertility=t.fertility,this.fieldVision=t.fieldVision,this.lifetime=t.lifetime,this.sizeLimit=t.sizeLimit,this.carnivore=t.carnivore,this.vegetarian=t.vegetarian,this.position=t.position,this.color=t.color?t.color:n.Color.random().rgb()):this.generatingChild(t.parents),this.goal=o.default.add(this.position,o.default.random(100,100)),this.text=new n.Text({content:this.foodLevel,position:this.position,z_index:3,style:{textAlign:\"center\",font:\"12px Arial\",fillStyle:\"white\"}}),this.vegetarian?this.circle=new n.Circle({z_index:2,position:this.position,radius:this.size,color:this.color,stroke:!0,lineColor:\"green\",lineWidth:1}):this.circle=new n.Circle({z_index:2,position:this.position,radius:this.size,color:this.color,stroke:!0,lineColor:\"red\",lineWidth:1})}return t.prototype.generatingChild=function(t){var i=Math.random();this.carnivore=t[1].carnivore,this.vegetarian=t[1].vegetarian,this.speedLimit=(t[1].speedLimit+t[0].speedLimit)*(.5+.05*(i-.05)),this.speed=.9*this.speedLimit,this.fertility=(t[1].fertility+t[0].fertility)*(.5+.05*(i-.05)),this.fieldVision=(t[1].fieldVision+t[0].fieldVision)*(.5+.05*(-1*i-.05)),this.lifetime=(t[1].lifetime+t[0].lifetime)*(.5+.05*(-1*i-.05)),this.sizeLimit=(t[1].sizeLimit+t[0].sizeLimit)*(.5+.05*(-1*i-.05))},t.prototype.findNearest=function(t){var i=this,e=t.map(function(t){return t.position}).map(function(t){return o.default.sub(t,i.position)}).map(function(t){return t.mag()}),n=Math.min.apply(Math,e),s=e.indexOf(n);return{distance:n,entity:t[s],index:s}},t.prototype.think=function(){if(this.vegetarian)if(this.enviroment.carnivorous.length>0)(t=this.findNearest(this.enviroment.carnivorous)).distance<100*this.fieldVision&&this.position.moveTowards(t.entity.position,-1*this.speed*5,0);else if(this.enviroment.trees.length>0){var t;(t=this.findNearest(this.enviroment.trees)).distance<100*this.fieldVision&&(t.distance<this.size+t.entity.size?this.eatPlant(t.entity):this.position.moveTowards(t.entity.position,5*this.speed,0))}else this.moveRandom();this.carnivore&&(this.enviroment.vegetarians.length>0?(t=this.findNearest(this.enviroment.vegetarians)).distance<100*this.fieldVision&&(t.distance<this.size+t.entity.size?this.eat(t.entity):this.position.moveTowards(t.entity.position,12.5*this.speed,0)):this.moveRandom())},t.prototype.eat=function(t){this.foodLevel+=t.size/this.enviroment.world.limitSize*25,t.dead(),Math.random()<.5*this.fertility&&this.haveChild()},t.prototype.eatPlant=function(t){this.foodLevel+=t.size/this.enviroment.world.limitSize*25,t.dead(),Math.random()<.5*this.fertility&&this.haveChild()},t.prototype.haveChild=function(){this.carnivore,Math.random()<.5*this.fertility&&this.enviroment.world.add(new t({first:!0,speedLimit:.5+Math.random()/2,fertility:this.fertility,fieldVision:100,lifetime:Math.random(),sizeLimit:Math.random(),carnivore:this.carnivore,vegetarian:this.vegetarian,color:this.color,position:o.default.add(this.position,o.default.random(10,10))}))},t.prototype.moveRandom=function(){this.position.distance(this.goal)<10&&(this.goal=o.default.add(this.position,o.default.random(100,100))),this.position.moveTowards(this.goal,5*this.speed,0)},t.prototype.dead=function(){this.enviroment.world.render.remove(this.circle),this.enviroment.world.render.remove(this.text),this.enviroment.world.remove(this),this.enviroment.remove(this)},t.prototype.update=function(){this.think(),this.text.content=Math.round(this.foodLevel),this.circle.radius=this.size,this.timeSlot+=1,this.foodLevel-=this.speed/4,this.vegetarian&&(this.foodLevel-=this.speed/1.5),this.foodLevel<0&&this.dead(),this.size<this.sizeLimit&&(this.size=this.sizeLimit*this.timeSlot/2500)},t}();i.default=s},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(3),n=e(1),s=function(){function t(t){this.size=3,this.maxSize=5,this.position=t||o.default.randomPositive(1e3,1e3),this.circle=new n.Circle({position:this.position,color:\"green\",z_index:2,radius:this.size})}return t.prototype.update=function(){this.grow(),Math.random()<.01&&this.haveChild(),this.size>this.maxSize&&(this.haveChild(),this.haveChild(),this.dead()),this.circle.radius=this.size},t.prototype.dead=function(){this.enviroment.world.render.remove(this.circle),this.enviroment.remove(this)},t.prototype.grow=function(){this.size+=.005},t.prototype.haveChild=function(){this.enviroment.world.addPlant(new t(o.default.add(this.position,o.default.random(15*this.size,15*this.size))))},t}();i.default=s},function(t,i,e){\"use strict\";i.__esModule=!0;var o=function(){function t(t,i,e,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===e&&(e=0),void 0===o&&(o=1),this.red=Math.round(255*t),this.green=Math.round(255*i),this.blue=Math.round(255*e),this.alpha=o,this.red>255?this.red=255:this.red<0&&(this.red=0),this.green>255?this.green=255:this.green<0&&(this.green=0),this.blue>255?this.blue=255:this.blue<0&&(this.blue=0),this.alpha>1?this.alpha=1:this.alpha<0&&(this.alpha=0)}return t.prototype.setRed=function(t){this.red=t>255?255:t<0?0:t},t.prototype.setGree=function(t){this.green=t>255?255:t<0?0:t},t.prototype.setBlue=function(t){this.blue=t>255?255:t<0?0:t},t.prototype.rgba=function(){return\"rgba(\"+this.red+\", \"+this.green+\", \"+this.blue+\", \"+this.alpha+\")\"},t.prototype.rgb=function(){return\"rgb(\"+this.red+\", \"+this.green+\", \"+this.blue+\")\"},t.random=function(){return new t(Math.random(),Math.random(),Math.random())},t}();i.default=o},function(t,i,e){\"use strict\";i.__esModule=!0;var o=function(){function t(){this.childs=[]}return t.prototype.add=function(t){this.childs.push(t)},t.prototype.render=function(){this.context.save(),this.context.scale(this.scale.x,this.scale.y),this.context.rotate(this.rotation),this.context.translate(this.position.x,this.position.y),this.childs.forEach(function(t){return t.render()}),this.context.restore()},t}();i.default=o},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=function(t){function i(i){var e=t.call(this,i)||this;return e.lineColor=\"#000\",i.stroke&&(e.stroke=i.stroke),i.color&&(e.color=i.color),i.radius&&(e.radius=i.radius),i.lineWidth&&(e.lineWidth=i.lineWidth),i.eAngl&&(e.eAngl=i.eAngl),i.aAngl&&(e.aAngl=i.aAngl),i.lineColor&&(e.lineColor=i.lineColor),e}return n(i,t),i.prototype.render=function(){this.context.beginPath(),this.context.fillStyle=this.color,this.context.arc(this.position.x,this.position.y,this.radius,this.eAngl,this.aAngl,!0),this.stroke&&(this.context.strokeStyle=this.lineColor,this.context.lineWidth=this.lineWidth,this.context.stroke())},i}(e(0).default);i.default=s},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=function(t){function i(i){var e=t.call(this,i)||this;return i.style&&(e.style=i.style),i.content&&(e.content=i.content),i.stroke&&(e.stroke=i.stroke),e}return n(i,t),i.prototype.render=function(){this.setStyle(this.style),this.stroke&&this.context.strokeText(this.content,this.position.x,this.position.y),this.context.fillText(this.content,this.position.x,this.position.y)},i}(e(0).default);i.default=s},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=function(t){function i(i){var e=t.call(this,i)||this;return e.width=1,e.height=1,e.image=new Image,e.width=i.width,e.height=i.height,e.image.src=i.src,e}return n(i,t),i.prototype.render=function(){this.context.beginPath(),this.context.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)},i}(e(0).default);i.default=s},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=function(t){function i(i){var e=t.call(this,i)||this;return e.fill=!0,e.stroke=!1,e.color=\"#FFF\",e.strokeColor=\"#000\",i.color&&(e.color=i.color),i.stroke&&(e.stroke=i.stroke),i.cords&&(e.cords=i.cords),i.fill&&(e.fill=i.fill),i.strokeColor&&(e.strokeColor=i.strokeColor),e}return n(i,t),i.prototype.render=function(){this.context.beginPath(),this.context.fillStyle=this.color,this.context.moveTo(this.cords[0].x,this.cords[0].y);for(var t=0;t<this.cords.length;t++)this.context.lineTo(this.cords[t].x,this.cords[t].y);this.context.closePath(),this.context.fill(),this.stroke&&this.context.stroke},i}(e(0).default);i.default=s},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=function(t){function i(i){var e=t.call(this,i)||this;return e.start={x:0,y:0},e.end={x:1,y:1},i.start&&(e.start=i.start),i.end&&(e.end=i.end),i.color&&(e.color=i.color),e}return n(i,t),i.prototype.render=function(){this.context.beginPath(),this.context.moveTo(this.start.x,this.start.y),this.context.lineTo(this.end.x,this.end.y),this.context.stroke()},i}(e(0).default);i.default=s},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=e(0),r=e(2),h=function(t){function i(i){var e=t.call(this,i)||this;return e.lineWidth=1,i.radius&&(e.radius=i.radius),i.color&&(e.color=i.color),i.stroke&&(e.stroke=i.stroke),i.lineWidth&&(e.lineWidth=i.lineWidth),i.lineColor&&(e.lineColor=i.lineColor),i.fill&&(e.fill=i.fill),e}return n(i,t),i.prototype.onClick=function(t){var i=this,e=t.bind(this);document.addEventListener(\"click\",function(t){var o=new r.default(t.clientX,t.clientY),n=new r.default(i.position.x,i.position.y);o.sub(n),o.mag()<i.radius&&e()})},i.prototype.render=function(){this.context.beginPath(),this.context.fillStyle=this.color,this.context.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),this.context.fill(),this.stroke&&(this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.lineColor,this.context.stroke())},i}(s.default);i.default=h},function(t,i,e){\"use strict\";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])},function(t,i){function e(){this.constructor=t}o(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)});i.__esModule=!0;var s=function(t){function i(i){var e=t.call(this,i)||this;return e.color=\"#FFFFFF\",e.width=1,e.height=1,e.lineWidth=1,e.fill=!1,e.stroke=!1,e.lineColor=\"#000000\",i.color&&(e.color=i.color),i.width&&(e.width=i.width),i.height&&(e.height=i.height),i.fill&&(e.fill=i.fill),i.stroke&&(e.stroke=i.stroke),i.lineWidth&&(e.lineWidth=i.lineWidth),i.lineColor&&(e.lineColor=i.lineColor),e}return n(i,t),i.prototype.render=function(){this.context.fillStyle=this.color,this.context.beginPath(),this.fill&&this.context.fillRect(this.position.x,this.position.y,this.width,this.height),this.stroke&&(this.context.strokeStyle=this.lineColor,this.context.lineWidth=this.lineWidth,this.context.strokeRect(this.position.x,this.position.y,this.width,this.height))},i}(e(0).default);i.default=s},function(t,i,e){\"use strict\";i.__esModule=!0;var o=function(){return function(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}}(),n=function(){function t(t,i,e,n,s,r){void 0===i&&(i=new o(1,1)),void 0===e&&(e=new o(1,1)),void 0===n&&(n=100),void 0===s&&(s=new o(32,32)),void 0===r&&(r=!0);var h=this;this.loop=!0,this.loop=r,this.load(t),this.size=s,this.position=e,this.scale=i,this.frameRate=n;var a=new o(0,0);this.x=0,this.y=0,this.interval=setInterval(function(){a.x+=1,h.x=h.size.x*a.x,h.y=h.size.y*a.y,h.x>=h.image.width&&(a.x=0),h.y>=h.image.height&&(a.y=0,h.loop||h.destroy()),h.x=h.size.x*a.x,h.y=h.size.y*a.y},this.frameRate)}return t.prototype.load=function(t){this.image=new Image,this.image.src=t},t.prototype.getSize=function(){return new o(this.size.x*this.scale.x,this.size.y*this.scale.y)},t.prototype.render=function(){this.context.drawImage(this.image,this.x,this.y,this.size.x,this.size.y,this.position.x,this.position.y,this.size.x*this.scale.x,this.size.y*this.scale.y)},t.prototype.destroy=function(){clearInterval(this.interval)},t}();i.default=n},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(2),n=e(4),s=function(){function t(t,i,e){var o=this;this.timeFrame=0,t?this.canvas=t:(this.canvas=document.createElement(\"canvas\"),document.body.appendChild(this.canvas)),i&&e?(this.canvas.width=i,this.canvas.height=e):(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight),window.addEventListener(\"resize\",function(){o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight}),this.context=this.canvas.getContext(\"2d\");var s=new n.default;this.setScene(s)}return t.prototype.add=function(t){this.scene.add(t)},t.prototype.remove=function(t){this.scene.remove(t)},t.prototype.addMultiple=function(t){var i=this;t.forEach(function(t){i.add(t)})},t.prototype.getWidth=function(){return this.canvas.width},t.prototype.getHeight=function(){return this.canvas.height},t.prototype.getCenter=function(){return new o.default(this.canvas.width/2,this.canvas.height/2)},t.prototype.render=function(){this.scene.update()},t.prototype.update=function(){var t=this;setInterval(function(){t.render()},this.timeFrame)},t.prototype.setScene=function(t){this.scene=t,this.scene.renderer=this,this.scene.context=this.context,this.scene.smoth(!1)},t}();i.default=s},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(1),n=function(){function t(t,i,e){this.trees=[],this.vegetarians=[],this.carnivorous=[],this.graphic=new o.Rect({position:{x:e.size.x*t,y:e.size.y*i},width:e.size.x,height:e.size.y,stroke:!0,fill:!0,color:\"#333\",z_index:1,lineColor:\"rgba(255, 255, 255, 0.5)\",lineWidth:1}),e.render.add(this.graphic),this.world=e,this.x=t,this.y=i}return t.prototype.add=function(t){t.enviroment=this,t.vegetarian?this.vegetarians.push(t):t.carnivore?this.carnivorous.push(t):this.trees.length<=5&&(this.world.render.add(t.circle),this.trees.push(t))},t.prototype.insideWorldBounds=function(t){t.position.x>=this.world.maxPositionX?t.position.x=this.world.minPositionX+1:t.position.x<=this.world.minPositionX&&(t.position.x=this.world.maxPositionX-1),t.position.y>=this.world.maxPositionY?t.position.y=this.world.minPositionY+1:t.position.y<=this.world.minPositionY&&(t.position.y=this.world.maxPositionY-1)},t.prototype.update=function(){var t=this;this.limit&&(this.vegetarians.forEach(function(i){return t.insideWorldBounds(i)}),this.carnivorous.forEach(function(i){return t.insideWorldBounds(i)})),this.graphic.color=new o.Color(.2,.1+this.trees.length/5,.1).rgb(),this.trees.forEach(function(t){return t.update()})},t.prototype.remove=function(t){t.vegetarian?this.vegetarians.splice(this.vegetarians.indexOf(t),1):t.carnivore?this.carnivorous.splice(this.carnivorous.indexOf(t),1):this.trees.splice(this.trees.indexOf(t),1)},t}();i.default=n},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(18),n=e(1),s=function(){function t(t,i,e,s,r,h){void 0===t&&(t=[60,60]),void 0===i&&(i=10),void 0===e&&(e=10),void 0===s&&(s=10),void 0===r&&(r=10),void 0===h&&(h=10),this.enviroments=[],this.resolution=[],this.minPositionX=0,this.minPositionY=0,this.entities=[],this.render=new n.Render,this.scene=new n.Scene,this.render.setScene(this.scene),this.size={x:50,y:50},this.limitSpeed=i,this.limitSize=e,this.limitVision=s,this.limitLifeTime=r,this.limitFertility=h,this.resolution=t,this.maxPositionX=this.resolution[0]*this.size.x,this.maxPositionY=this.resolution[1]*this.size.y;for(var a=0;a<=this.resolution[0]-1;a++){this.enviroments.push([]);for(var c=0;c<=this.resolution[1]-1;c++)this.enviroments[a].push(new o.default(a,c,this))}}return t.prototype.organizeParticle=function(t){var i=Math.floor(t.position.x/this.maxPositionX*this.resolution[0]),e=Math.floor(t.position.y/this.maxPositionY*this.resolution[1]);t.enviroment?t.enviroment.x===i&&t.enviroment.y===e||(t.enviroment.remove(t),this.enviroments[i][e].add(t)):this.enviroments[i][e].add(t)},t.prototype.addPlant=function(t){this.insideWorldBounds(t),this.organizeParticle(t)},t.prototype.insideWorldBounds=function(t){t.position.x>=this.maxPositionX?t.position.x=this.minPositionX+1:t.position.x<=this.minPositionX&&(t.position.x=this.maxPositionX-1),t.position.y>=this.maxPositionY?t.position.y=this.minPositionY+1:t.position.y<=this.minPositionY&&(t.position.y=this.maxPositionY-1)},t.prototype.isInsideWorldBounds=function(t){return!(t.position.x>this.maxPositionX)&&(!(t.position.x<this.minPositionX)&&(!(t.position.y>this.maxPositionY)&&!(t.position.y<this.minPositionY)))},t.prototype.add=function(t){t.text&&this.render.add(t.text),this.render.add(t.circle),this.entities.push(t)},t.prototype.remove=function(t){this.entities.splice(this.entities.indexOf(t),1)},t.prototype.update=function(){var t=this;this.enviroments.forEach(function(t){return t.forEach(function(t){return t.update()})}),this.render.render(),this.entities.forEach(function(i){t.organizeParticle(i),i.update()})},t}();i.default=s},function(t,i,e){\"use strict\";i.__esModule=!0;var o=e(3),n=e(19),s=e(6),r=e(5),h=new n.default,a={velocity:new o.default(0,0),acceleration:new o.default(0,0),friction:.9,position:new o.default(0,0),zoom:0,zV:0,zA:0,x:0,y:0,update:function(){this.velocity.add(this.acceleration),this.zV+=this.zA,h.render.context.translate(this.velocity.x,this.velocity.y),this.position.add(this.velocity),this.velocity.mult(this.friction),this.zV*=.7,this.acceleration.zero(),this.zA=0},addForce:function(t){this.acceleration.add(t)},addZoom:function(t){this.zA+=t}};document.addEventListener(\"mousemove\",function(t){a.x=t.clientX,a.y=t.clientY}),document.addEventListener(\"mousewheel\",function(t){t.wheelDelta<0?a.addZoom(-.2):a.addZoom(.2)}),document.addEventListener(\"keypress\",function(t){\"w\"===t.key.toLowerCase()&&a.addForce(new o.default(0,10)),\"s\"===t.key.toLowerCase()&&(h.render.context.translate(0,-10),a.addForce(new o.default(0,-10))),\"a\"===t.key.toLowerCase()&&(h.render.context.translate(10,0),a.addForce(new o.default(10,0))),\"d\"===t.key.toLowerCase()&&a.addForce(new o.default(-10,0)),\"+\"===t.key&&(h.render.context.translate(a.x,a.y),h.render.context.scale(1.1,1.1),h.render.context.translate(-a.x,-a.y)),\"-\"===t.key&&(h.render.context.translate(a.x,a.y),h.render.context.scale(.9,.9),h.render.context.translate(-a.x,-a.y))}),setInterval(function(){return a.update()});for(var c=0;c<1e3;c++)h.addPlant(new s.default(o.default.randomPositive(3e3,3e3)));for(var d=0;d<300;d++)h.add(new r.default({first:!0,speedLimit:Math.random(),fertility:Math.random(),fieldVision:100,lifetime:Math.random(),sizeLimit:Math.random(),carnivore:!1,vegetarian:!0,position:o.default.randomPositive(3e3,3e3)}));for(d=0;d<100;d++)h.add(new r.default({first:!0,speedLimit:Math.random(),fertility:Math.random(),fieldVision:100,lifetime:Math.random(),sizeLimit:Math.random(),carnivore:!0,vegetarian:!1,position:o.default.randomPositive(3e3,3e3)}));setInterval(function(){return h.update()},0)}]);","extractedComments":[]}